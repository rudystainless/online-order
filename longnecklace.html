<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RDSTL</title>
    <style>
        body { font-family: sans-serif; padding: 20px; text-align: center; }
        .product-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .product-card { border-bottom: 1px solid #eee; padding-bottom: 20px; text-align: left; }
        .product-img { width: 100%; aspect-ratio: 1/1; object-fit: cover; background: #f0f0f0; }
        .product-name { font-size: 14px; font-weight: bold; margin: 10px 0; }
        .qty-input { width: 40px; padding: 5px; }
        button.add-btn { background: #1a1a1a; color: #fff; border: none; padding: 8px 12px; cursor: pointer; float: right; font-size: 12px; }
        button.sold-out { background: #ccc; cursor: not-allowed; }
        button.low-stock { background: #e65100; }
        .stock-msg { font-size: 11px; color: #e65100; font-weight: bold; }
    </style>
</head>
<body>
    <h2>RDSTL</h2>
    <div class="product-container">

        <div class="product-card" data-name="RDSTL-001a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1tR31X1LR7L0EtQjGLHZdY8SfOjB8JuPK" class="product-img">
            <p class="product-name">RDSTL-001a</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-001a" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1tR31X1LR7L0EtQjGLHZdY8SfOjB8JuPK"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-001b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=15A25vxXB6w4HY317nRUUWVwKBtvk0lC-" class="product-img">
            <p class="product-name">RDSTL-001b</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-001b" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=15A25vxXB6w4HY317nRUUWVwKBtvk0lC-"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-002a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1b5GzSDoFfI0dRcwbOerNm6BEF-Bqk8BY" class="product-img">
            <p class="product-name">RDSTL-002a</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-002a" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1b5GzSDoFfI0dRcwbOerNm6BEF-Bqk8BY"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-002b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=19qfRqUphncR1iHguLXI4gX1Sxwc8Z29K" class="product-img">
            <p class="product-name">RDSTL-002b</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-002b" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=19qfRqUphncR1iHguLXI4gX1Sxwc8Z29K"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-003a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=18_CC9GYgkz2hZ1ofyFasXmZfApUNwC99" class="product-img">
            <p class="product-name">RDSTL-003a</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-003a" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=18_CC9GYgkz2hZ1ofyFasXmZfApUNwC99"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-003b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1M4J1K9DNRUnR30s2GtGLpNyz0sYOggTz" class="product-img">
            <p class="product-name">RDSTL-003b</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-003b" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1M4J1K9DNRUnR30s2GtGLpNyz0sYOggTz"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-004a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1lEH0IbcTZE_gaqF8rfNSKnbVTLxYqFUk" class="product-img">
            <p class="product-name">RDSTL-004a</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-004a" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1lEH0IbcTZE_gaqF8rfNSKnbVTLxYqFUk"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-004b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1Z--drw49sFAUyDZV9mzr9mt7m0t_ZbsL" class="product-img">
            <p class="product-name">RDSTL-004b</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-004b" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1Z--drw49sFAUyDZV9mzr9mt7m0t_ZbsL"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-005a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1hf9FMSPygB8iBOBmi-ayF-zRF4UR-mUi" class="product-img">
            <p class="product-name">RDSTL-005a</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-005a" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1hf9FMSPygB8iBOBmi-ayF-zRF4UR-mUi"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-005b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1z0sCBvSKhP5SmjDm8Tg8S92xxp9Y3bCr" class="product-img">
            <p class="product-name">RDSTL-005b</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-005b" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1z0sCBvSKhP5SmjDm8Tg8S92xxp9Y3bCr"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-006a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1JtcZcX3BxSbbCGqA6PIFG_io1CeY_2jA" class="product-img">
            <p class="product-name">RDSTL-006a</p>
            <p>¥1800</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-006a" data-price="1800" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1JtcZcX3BxSbbCGqA6PIFG_io1CeY_2jA"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-006b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1xjAk71-BbRly5auk16UXhjGzku3Pi_pH" class="product-img">
            <p class="product-name">RDSTL-006b</p>
            <p>¥1800</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-006b" data-price="1800" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1xjAk71-BbRly5auk16UXhjGzku3Pi_pH"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-007a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1Jls5QQYLi1u3hwmFoNvB_X1Wh30d8fvO" class="product-img">
            <p class="product-name">RDSTL-007a</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-007a" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1Jls5QQYLi1u3hwmFoNvB_X1Wh30d8fvO"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-007b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1PLzlomVirF6lDtoTqPStWPqXex4eA7vs" class="product-img">
            <p class="product-name">RDSTL-007b</p>
            <p>¥1900</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-007b" data-price="1900" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1PLzlomVirF6lDtoTqPStWPqXex4eA7vs"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-008a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1FhS4x0Ss0Fe-jWrOQbSkZSyk5ZmLBNEl" class="product-img">
            <p class="product-name">RDSTL-008a</p>
            <p>¥2000</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-008a" data-price="2000" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1FhS4x0Ss0Fe-jWrOQbSkZSyk5ZmLBNEl"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-008b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1Lt91kbftjKK8IApf4EJH74hpfhK-7cBU" class="product-img">
            <p class="product-name">RDSTL-008b</p>
            <p>¥2000</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-008b" data-price="2000" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1Lt91kbftjKK8IApf4EJH74hpfhK-7cBU"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-009a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1hhvkE38VANy2e9nmFhfJP8jszKZqEwqB" class="product-img">
            <p class="product-name">RDSTL-009a</p>
            <p>¥2000</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-009a" data-price="2000" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1hhvkE38VANy2e9nmFhfJP8jszKZqEwqB"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-009b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1Nj3OxfzhfWOezMbXAINVP0oGa6UKRr4Y" class="product-img">
            <p class="product-name">RDSTL-009b</p>
            <p>¥2000</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-009b" data-price="2000" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1Nj3OxfzhfWOezMbXAINVP0oGa6UKRr4Y"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-010a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1sQ_0aQGe7-JyDOFpt0JzB4qLjbc714tC" class="product-img">
            <p class="product-name">RDSTL-010a</p>
            <p>¥2000</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-010a" data-price="2000" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1sQ_0aQGe7-JyDOFpt0JzB4qLjbc714tC"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-010b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1dApBfJZ2xIdlDjSwqXoQiteDaHbmVHFQ" class="product-img">
            <p class="product-name">RDSTL-010b</p>
            <p>¥2000</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-010b" data-price="2000" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1dApBfJZ2xIdlDjSwqXoQiteDaHbmVHFQ"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-011a">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1L2T50yCp2Riy5XQpZtSziUJEkMGLb5lC" class="product-img">
            <p class="product-name">RDSTL-011a</p>
            <p>¥2100</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-011a" data-price="2100" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1L2T50yCp2Riy5XQpZtSziUJEkMGLb5lC"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
        <div class="product-card" data-name="RDSTL-011b">
            <img src="https://drive.google.com/thumbnail?sz=w1000&id=1rr5pCgphjyqXum9bXCN-Ks6AGA3ScNkm" class="product-img">
            <p class="product-name">RDSTL-011b</p>
            <p>¥2100</p>
            <div class="stock-info"></div>
            <input type="number" class="qty-input" value="1" min="1" >
            <button class="add-btn" data-name="RDSTL-011b" data-price="2100" data-img="https://drive.google.com/thumbnail?sz=w1000&id=1rr5pCgphjyqXum9bXCN-Ks6AGA3ScNkm"  onclick="addToCart(this)">ADD TO CART</button>
        </div>
    </div>
    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbzMSgsyBnDb6szKpt8aiRTow496onYnTcipUeAfmOqVZic866dh4gV7aMnndWJr-2q4/exec";
        const SHEET_NAME = "RDSTL";

        async function syncStock() {
            try {
                const res = await fetch(API_URL + "?sheet=" + encodeURIComponent(SHEET_NAME));
                const data = await res.json();
                document.querySelectorAll('.product-card').forEach(card => {
                    const name = card.getAttribute('data-name');
                    const stock = data[name] || 0;
                    const btn = card.querySelector('.add-btn');
                    const msg = card.querySelector('.stock-info');
                    if (stock <= 0) {
                        btn.innerText = "SOLD OUT";
                        btn.className = "add-btn sold-out";
                        btn.disabled = true;
                    } else if (stock <= 5) {
                        btn.className = "add-btn low-stock";
                        msg.innerText = "残り" + stock + "点";
                    }
                });
            } catch(e) {}
        }

        function addToCart(btn) {
            const card = btn.closest('.product-card');
            const qty = parseInt(card.querySelector('.qty-input').value);
            const item = {
                name: btn.getAttribute('data-name'),
                price: parseInt(btn.getAttribute('data-price')),
                img: btn.getAttribute('data-img'),
                qty: qty
            };

            let cart = JSON.parse(localStorage.getItem('rudy_cart') || '[]');
            const existing = cart.find(i => i.name === item.name);
            if (existing) existing.qty += qty; else cart.push(item);
            
            localStorage.setItem('rudy_cart', JSON.stringify(cart));
            btn.innerText = "ADDED!";
            setTimeout(() => { btn.innerText = "ADD TO CART"; syncStock(); }, 1000);
        }
        window.onload = syncStock;
    </script>
</body></html>
